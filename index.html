<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <title>Toposort</title>
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
  <style>

    body {
      margin: 0px 8px;
    }

    .hidden {
      display: none;
    }

    .header-container {
      display: block;
      margin-top: 0 px;
      margin-right: auto;
      margin-bottom: 0px;
      margin-left: auto;
      max-width: 420px;
    }

    .header-seperator {
      font-family: 'Lato', sans-serif;
      font-weight: Bold;
      font-style: normal;
      font-size: 18px;
      letter-spacing: 1px;
      padding: 4px 4px 4px 4px;
      text-align: center;
      color: white;
      /*background: hsl(0deg 83% 61%); */
      background: hsl(212deg 72% 54%);
      border-radius: 0px 0px 3px 3px;

      /*
      background: hsl(0deg 76% 61%);
      color: hsl(212deg 72% 54%);
      color: #666666;
       color: #8f8f8f; */
      /* background: #fbfbfb;
      border: 1px solid #eaeaea;
      */

      /*
      margin: 0px auto 0px auto;
      max-width: 250px;
      */
    }

    .header-title {
      text-align: center;
      font-size: 14px;
      font-family: Lato, sans-serif;
      font-weight: bold;
      font-style: normal;
      margin: 5px auto 5px auto;
    }

    .post-container {
      display: block;
      margin-top: 0 px;
      margin-right: auto;
      margin-bottom: 0px;
      margin-left: auto;
      max-width: 420px;
      padding: 0px 8px;
    }

    .aligncenter {
      display: block;
      margin-top: 0 px;
      margin-right: auto;
      margin-bottom: 0px;
      margin-left: auto;
    }

    .section-header {
      font-size: 30px;
      font-family: Georgia, Helvetica, sans-serif;
      font-weight: 500;
    }

    .ptext {
      color: black;
      margin: 0 0 15px;
      line-height: 1.55;
      font-size: 16px;
      font-family: Georgia, Helvetica, sans-serif;
      max-width: 420px;
    }

    .figlabel {
      text-align: center;
      color: black;
      font-size: 12px;
      font-family: Georgia, Helvetica, sans-serif;
      font-style: italic;
      margin: 4px auto 20px auto;
      font-weight: 300;
    }

    /* VIDEO PLAYER */
    .video-container {
      width: 420px;
      border-radius: 4px;
      margin: 0 auto;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .playback-control {
      width: 30px;
      height: 30px;
    }

    video {
      width: 90%;
      height: 100%;
      border-radius: 4px 4px 0px 0px;
    }


    /* VIDEO CONTROLS */
    .controls-container {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;

      margin: 0 auto;
      width: 90%;
      height: 31px;

      border-radius: 0px 0px 4px 4px;
      background: hsla(215, 11%, 56%, .12);
    }

    .controls-left {
      display: flex;
      flex-direction: row;
      justify-content: left;
      align-items: center;

      /*background: black;*/
      width: 60px;
      height: 30px;
      margin-left: 10px;
    }

    .controls-center {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      /*background: black;*/
      width: 60px;
      height: 30px;
    }

    .controls-right {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;

      /*background: black;*/
      width: 80px;
      height: 30px;
      margin-right: 10px;
    }

    .controls-restart {
      /*background: #454545;*/
      width: 20px;
      height: 20px;
    }

    .controls-play {
      /*background: #454545;*/
      width: 20px;
      height: 20px;
    }

    .controls-prev-kf {
      /*background: #454545;*/
      width: 10px;
      height: 20px;
    }

    .controls-next-kf {
      /*background: #454545;*/
      width: 10px;
      height: 20px;
    }

    .controls-frame-progress {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      width: 50px;
      height: 20px;

      font-family: 'Lato', sans-serif;
      font-weight: normal;
      font-style: normal;
      font-size: 11px;
    }

  </style>
</head>

<body>
  <div class="header-container">
    <!--<div class="header-title">toposort</div> -->
    <!--<div class="header-seperator">◎●◇●◲TOPOSORT◱●◇●◎</div> -->
    <!--<div class="header-seperator">◇◇◇TOPOSORT◇◇◇</div>-->
    <div class="header-seperator">toposort</div>
  </div>



  <div class="post-container">

    <h1 class="section-header">Kahn's Algorithm</h2>

    <p class="ptext"> Start by identifying all the nodes that have no
    dependencies (incoming edges), and add those nodes to the
    <i>candidates</i> stack.</p>

    <div>
      <video
        id="video-1"
        class="aligncenter"
        poster=""
        width="320"
        height="210"
        loop="false"
        muted
        webkit-playsinline
        playsinline
      >
        <source src="./media/Untitled_1.mp4" type="video/mp4">
        Your browser does not support playing videos
      </video>
    </div>

    <div id="vc-cont-1" class="controls-container">
        <div class="controls-left">
          <img id="vc-restart-1" class="controls-restart" src="./vc-restart.svg"></img>
        </div>
        <div class="controls-center">
          <img id="vc-play-1" class="controls-play" src="./vc-play.svg"></img>
          <img id="vc-pause-1" class="controls-play hidden" src="./vc-pause.svg"></img>
        </div>
        <div class="controls-right">
          <img id="vc-pkf-1" class="controls-prev-kf" src="./vc-pkf.svg"></img>
          <div class="controls-frame-progress"><div>1 of 22</div></div>
          <img id="vc-nkf-1" class="controls-next-kf" src="./vc-nkf.svg"></img>
        </div>
    </div>

    <div>
      <div class="figlabel"><strong>Fig 1.</strong> Initializing candidates to process</div>
    </div>

    <p class="ptext">For every candidate, remove each of the candidate's
    outgoing edges from the graph, then add the candidate to the
    solution. When you remove a candidate's edge, if the child node the
    edge is connected to has no incoming edges, then add it to the
    <i>candidates</i> stack.</p>

    <div>
      <video
        class="aligncenter"
        poster=""
        width="320"
        height="210"
        controls="false"
        loop="false"
        muted
        webkit-playsinline
        playsinline
      >
        <source src="./media/Untitled_2.mp4" type="video/mp4">
        Your browser does not support playing videos
      </video>
    </div>
    <div>
      <div class="figlabel"><strong>Fig 2.</strong> Processing candidates to find solution</div>
    </div>

    <!-- blank space so you can scroll past end of article to allow
      content to go to top of screen -->
    <div style="height: 390px;">
    </div>

  </div>

  <svg style="display: none">
    <defs>
      <symbol id="pause" viewBox="0 0 24 24">
        <path d="M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z"></path>
      </symbol>

      <symbol id="play-icon" viewBox="0 0 24 24">
        <path d="M8.016 5.016l10.969 6.984-10.969 6.984v-13.969z"></path>
      </symbol>

      <symbol id="volume-high" viewBox="0 0 24 24">
      <path d="M14.016 3.234q3.047 0.656 5.016 3.117t1.969 5.648-1.969 5.648-5.016 3.117v-2.063q2.203-0.656 3.586-2.484t1.383-4.219-1.383-4.219-3.586-2.484v-2.063zM16.5 12q0 2.813-2.484 4.031v-8.063q1.031 0.516 1.758 1.688t0.727 2.344zM3 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6z"></path>
      </symbol>

      <symbol id="volume-low" viewBox="0 0 24 24">
      <path d="M5.016 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6zM18.516 12q0 2.766-2.531 4.031v-8.063q1.031 0.516 1.781 1.711t0.75 2.32z"></path>
      </symbol>

      <symbol id="volume-mute" viewBox="0 0 24 24">
      <path d="M12 3.984v4.219l-2.109-2.109zM4.266 3l16.734 16.734-1.266 1.266-2.063-2.063q-1.547 1.313-3.656 1.828v-2.063q1.172-0.328 2.25-1.172l-4.266-4.266v6.75l-5.016-5.016h-3.984v-6h4.734l-4.734-4.734zM18.984 12q0-2.391-1.383-4.219t-3.586-2.484v-2.063q3.047 0.656 5.016 3.117t1.969 5.648q0 2.203-1.031 4.172l-1.5-1.547q0.516-1.266 0.516-2.625zM16.5 12q0 0.422-0.047 0.609l-2.438-2.438v-2.203q1.031 0.516 1.758 1.688t0.727 2.344z"></path>
      </symbol>

      <symbol id="fullscreen" viewBox="0 0 24 24">
      <path d="M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z"></path>
      </symbol>

      <symbol id="fullscreen-exit" viewBox="0 0 24 24">
      <path d="M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z"></path>
      </symbol>

      <symbol id="pip" viewBox="0 0 24 24">
        <path d="M21 19.031v-14.063h-18v14.063h18zM23.016 18.984q0 0.797-0.609 1.406t-1.406 0.609h-18q-0.797 0-1.406-0.609t-0.609-1.406v-14.016q0-0.797 0.609-1.383t1.406-0.586h18q0.797 0 1.406 0.586t0.609 1.383v14.016zM18.984 11.016v6h-7.969v-6h7.969z"></path>
      </symbol>

      <symbol
          id="nextframe"
          viewBox="0 0 100 100"
          xmlns="http://www.w3.org/2000/svg"
      >
          <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M21 83.3953L78.5 50.1976L21 17L21 83.3953ZM23.4731 79.1117L73.5538 50.1976L23.4731 21.2836L23.4731 79.1117Z"
              fill="black"
          />
      </symbol>

    </defs>
  </svg>

  <script>

    function preventZoom(e) {
      var t2 = e.timeStamp;
      var t1 = e.currentTarget.dataset.lastTouch || t2;
      var dt = t2 - t1;
      var fingers = e.touches.length;
      e.currentTarget.dataset.lastTouch = t2;

      if (!dt || dt > 500 || fingers > 1) return; // not double-tap

      e.preventDefault();
      e.target.click();
    }

    function pauseVideo(vidNum) {
        document.getElementById('video-' + vidNum).pause();
        document.getElementById('vc-play-' + vidNum).classList.remove("hidden");
        document.getElementById('vc-pause-' + vidNum).classList.add("hidden");
    }

    function playVideo(vidNum) {
        document.getElementById('video-' + vidNum).play();
        document.getElementById('vc-play-' + vidNum).classList.add("hidden");
        document.getElementById('vc-pause-' + vidNum).classList.remove("hidden");
    }

    function togglePlay(video) {
      if (video.paused || video.ended) {
        playVideo(1);
        // video.play();
      } else {
        pauseVideo(1);
      }
    }

    function resetVideo(video) {
      pauseVideo(1);
      video.currentTime = 0.0;
    }

    function nextKeyFrame(video) {
      pauseVideo(1);
      video.currentTime += 1.0;
    }

    function prevKeyFrame(video) {
      pauseVideo(1);
      video.currentTime -= 1.0;
    }

    function handleTimeUpdate() {
      console.log("time updated");
    }

    function handleMetaData() {
      console.log("meta data loaded");
    }

    function childNodesRecursive(node) {
      var children = [];

      var to_expand = [];
      to_expand.push(node);

      var expandingNode;
      while (to_expand.length > 0) {
        expandingNode = to_expand.pop();
        for (var i = 0; i < expandingNode.childNodes.length; i++) {
          to_expand.push(expandingNode.childNodes[i]);
          children.push(expandingNode.childNodes[i]);
        }
      }
      return children;
    }

    let numVids = 1;
    for (let vidIdx = 0; vidIdx < numVids; vidIdx++) {
      document.getElementById('vc-play-1').addEventListener(
        'click',
        () => {togglePlay(document.getElementById('video-1'))}
      );

      document.getElementById('vc-pause-1').addEventListener(
        'click',
        () => {togglePlay(document.getElementById('video-1'))}
      );

      document.getElementById('vc-restart-1').addEventListener(
        'click',
        () => {resetVideo(document.getElementById('video-1'))}
      );

      document.getElementById('vc-pkf-1').addEventListener(
        'click',
        () => {prevKeyFrame(document.getElementById('video-1'))}
      );

      document.getElementById('vc-nkf-1').addEventListener(
        'click',
        () => {nextKeyFrame(document.getElementById('video-1'))}
      );


      document.getElementById('video-1').addEventListener('timeupdate', handleTimeUpdate);
      document.getElementById('video-1').addEventListener('loadedmetadata', handleMetaData);

    }

    // Prevent all the zooms
    let vid1 = document.getElementById('video-1');
    vid1.addEventListener('touchstart', preventZoom);

    let vcCont1 = document.getElementById('vc-cont-1');
    vcCont1.addEventListener('touchstart', preventZoom);

    console.log("simple zoom elimination");

    /*
    let vcContChildren = childNodesRecursive(vcCont1);
    for (vcContChild of vcContChildren) {
      vcContChild.addEventListener('touchstart', preventZoom);
      console.log(vcContChild);
    }
    */

  </script>
</body>

</html>

